!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./dist",n(n.s=0)}([function(e,t){window.Mura.preInit((function(){window.Mura.Module.Pdfviewer=Mura.UI.extend({renderClient:function(){var e=this;Mura.loader().loadcss(Mura.rootpath+"/core/modules/v1/pdfviewer/assets/css/pdfviewer.css").loadjs(Mura.rootpath+"/core/modules/v1/pdfviewer/dist/pdf.viewer.bundle.js",(function(){e._render()}))},_render:function(){if(this.context.pdfurl=this.context.pdfurl||"",this.context.pdfurl){pdfjsLib.GlobalWorkerOptions.workerSrc=Mura.rootpath+"/core/modules/v1/pdfviewer/dist/pdf.worker.bundle.js";var e=null,t=1,n=!1,o=null,r=1,a=this.context.pdfurl,d=this.context.instanceid,u=this.context.pdffilename||"",l="";l+='<div class="pdf-btn-container"><button id="pdf-btn-'+d+'" class="btn btn-primary" style="display:none;">Preparing download...</button></div>',l+='<div class="mura-pdfcontainer" id="mura-pdfcontainer-'+d+'">',l+='<div class="mura-pdfcontrols" id="mura-pdfviewer-'+d+'">',l+='<span class="mura-pdfcontrols-group" id="mura-pdfpaging-group-'+d+'">',l+='<button class="mura-pdfprev" id="mura-pdfprev-'+d+'">&lt;</button>',l+='<span class="mura-pdfpaging">',l+='<span id="mura-pdfpagenum-'+d+'">1</span>/<span class="mura-pdfpagecount" id="mura-pdfpagecount-'+d+'">1</span>',l+="</span>",l+='<button class="mura-pdfnext" id="mura-pdfnext-'+d+'">&gt;</button>',l+="</span>",l+='<span class="mura-pdfcontrols-group">',l+='<button class="mura-pdfzoomout" id="mura-pdfzoomout-'+d+'">-</button>',l+='<span class="mura-pdfzoom"><span id="mura-pdfpagezoom-'+d+'">100%</span></span>',l+='<button class="mura-pdfzoomin" id="mura-pdfzoomin-'+d+'">+</button>',l+="</span>",l+='<span class="mura-pdfcontrols-group">',l+='<button class="mura-pdffullscreentoggle mura-pdffullscreenopen" id="mura-pdffullscreenopen-'+d+'">Fullscreen</button>',l+='<button class="mura-pdffullscreentoggle mura-pdffullscreenclose" id="mura-pdffullscreenclose-'+d+'">Exit Fullscreen</button>',l+="</span>",l+='<span class="mura-pdfcontrols-group">',l+='<button class="mura-pdfprintpdf" id="mura-pdfprintpdf-'+d+'">Print</button>',l+="</span>",l+="</div>",l+='<div class="mura-pdfviewer" id="mura-pdfviewer-'+d+'">',l+='<div class="mura-pdfloader" id="mura-pdfloader-'+d+'">',l+="loading pdf...",l+="</div>",l+='<canvas class="mura-pdfcanvas" id="mura-pdfcanvas-'+d+'" style="display:none;"></canvas>',l+="</div>",l+='<div class="mura-pdfcontrols mura-pdfcontrols-bottom" id="mura-pdfviewer-'+d+'">',l+='<button class="mura-pdfdownload" id="mura-pdfdownload-'+d+'">Download</button>',l+='<span class="mura-pdfreadablebytes" id="mura-pdfreadablebytes-'+d+'"></span>',l+="</div>",l+="</div>",this.context.targetEl.innerHTML=l;var c={canvas:document.getElementById("mura-pdfcanvas-"+d),loader:document.getElementById("mura-pdfloader-"+d),pagezoom:document.getElementById("mura-pdfpagezoom-"+d),zoomin:document.getElementById("mura-pdfzoomin-"+d),zoomout:document.getElementById("mura-pdfzoomout-"+d),nextpage:document.getElementById("mura-pdfnext-"+d),prevpage:document.getElementById("mura-pdfprev-"+d),pagenum:document.getElementById("mura-pdfpagenum-"+d),pagecontrols:document.getElementById("mura-pdfpaging-group-"+d),pagecount:document.getElementById("mura-pdfpagecount-"+d),download:document.getElementById("mura-pdfdownload-"+d),fullscreenopen:document.getElementById("mura-pdffullscreenopen-"+d),fullscreenclose:document.getElementById("mura-pdffullscreenclose-"+d),readablebytes:document.getElementById("mura-pdfreadablebytes-"+d),print:document.getElementById("mura-pdfprintpdf-"+d)};h();var i=c.canvas,s=i.getContext("2d");pdfjsLib.getDocument(this.context.pdfurl).promise.then((function(n){e=n,c.pagecount.textContent=e.numPages;let o=document.getElementById("pdf-btn-"+d);o.innerText="Download PDF",o.addEventListener("click",g),e.numPages<=1&&Mura(c.pagecontrols).hide(),p(t),e.getDownloadInfo().then((function(e){var t,n,o=(t=e.length,n=Math.floor(Math.log(t)/Math.log(1024)),1*(t/Math.pow(1024,n)).toFixed(2)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n]);c.readablebytes.textContent=o||""}))})),c.prevpage.addEventListener("click",(function(){t<=1||m(--t)})),c.nextpage.addEventListener("click",(function(){t>=e.numPages||m(++t)})),c.zoomin.addEventListener("click",(function(){r+=.2,m(t),c.pagezoom.textContent=Math.round(100-(100-100*r))+"%"})),c.zoomout.addEventListener("click",(function(){r-=.2,m(t),c.pagezoom.textContent=Math.round(100-(100-100*r))+"%"})),c.fullscreenopen.addEventListener("click",v),c.fullscreenclose.addEventListener("click",b),c.print.addEventListener("click",(function(){e.getData().then((function(e){var t=!(!window.navigator||!window.navigator.msSaveOrOpenBlob),n=new Blob([e],{type:"application/pdf"});try{t?window.navigator.msSaveOrOpenBlob(n,f()):printJS(URL.createObjectURL(n))}catch(e){console.log(e)}}))})),c.download.addEventListener("click",g),window.onresize=function(){h()}}function p(t){n=!0,e.getPage(t).then((function(e){var t=e.getViewport({scale:r});i.height=t.height,i.width=t.width;var a={canvasContext:s,viewport:t};Mura(c.loader).hide(),Mura(c.canvas).show(),e.render(a).promise.then((function(){n=!1,null!==o&&(p(o),o=null)}))})),c.pagenum.textContent=t}function m(e){n?o=e:p(e)}function f(){var e;((e=u.toString())||(e=(e=a.split("?")[0].split("/"))[e.length-1]?e[e.length-1]:e[e.length-2]),"file"==e&&"/"!=location.pathname)&&(e=(e=location.pathname.split("/"))[e.length-1]?e[e.length-1]:e[e.length-2]);const t=e.split(".");return"pdf"!=t[t.length-1]&&(e+=".pdf"),e}function g(){e.getData().then((function(e){const t=document.createElement("a");t.style.display="none",document.body.appendChild(t),t.href=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),t.setAttribute("download",f()),t.click(),window.URL.revokeObjectURL(t.href),document.body.removeChild(t)}))}function v(){var e=document.getElementById("mura-pdfcontainer-"+d);e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function b(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}function h(){let e=document.getElementById("pdf-btn-"+d),t=document.getElementById("mura-pdfcontainer-"+d);document.documentElement.clientWidth>768?(Mura(e).hide(),Mura(t).show()):(Mura(e).show(),Mura(t).hide())}}})}))}]);